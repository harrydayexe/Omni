\documentclass[12pt,a4paper]{report}

% Packages for spacing, graphics, math, hyperlinks, bibliography, and code listings
\usepackage{setspace}       % For setting spacing
\usepackage{graphicx}       % For including images
\graphicspath{ {./images/} }
\usepackage{amsmath, amssymb}  % Math packages
\usepackage{hyperref}       % For hyperlinks
\hypersetup{
    colorlinks,
    citecolor=black,
    filecolor=black,
    linkcolor=black,
    urlcolor=black
}
\usepackage{natbib}         % For bibliography formatting
\usepackage{listings}       % For source code listings
\usepackage{xcolor}
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}
\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2,
    literate={`}{\textasciigrave}1
}

\lstset{style=mystyle}

\usepackage{microtype}      % For better typography (especially with hyphenation)
\usepackage{etoolbox}
\apptocmd{\thebibliography}{\raggedright}{}{} % Remove underfull \hbox warnings


% Adjust spacing (optional)
\doublespacing

% Define a new command for the supervisor field
\makeatletter
\def\supervisor#1{\gdef\@supervisor{#1}}
\def\@supervisor{}

% Redefine the title page to include a supervisor field
\renewcommand{\maketitle}{
  \begin{titlepage}
    \centering
    % Title
    {\Large \bfseries \@title \par}
    \vskip 1.5cm
    % Author and Supervisor information
    {\large \@author \par}
    \vskip 0.5cm
    {\large \@supervisor \par}
    \vskip 0.5cm
    {\large \@date \par}
    \vfill
    % Optionally include a university logo (uncomment and set path if needed)
    %\includegraphics[width=0.3\textwidth]{university_logo.png}\par
    %{\large University Name\par}
  \end{titlepage}
}
\makeatother

% Title information
\title{Building a Social Media Platform Capable of Scaling to a Million Users Overnight}
\author{Harry Day\\School of Computer Science\\University of Manchester}
\supervisor{Supervisor: Dr. Gareth Henshall}
\date{2025}

\begin{document}

% Generate Title Page
\maketitle

% Abstract
\include{abstract}

% Table of Contents and Lists of Figures/Tables
\tableofcontents
\listoffigures
\lstlistoflistings

%% These include the actual text
\include{introduction}
\include{background}
\include{design}
\include{implementation}
\include{testing}

\include{evaluation}

% Bibliography
\bibliographystyle{agsm}
\bibliography{references}

% Appendices (if necessary)
\include{appendix}

\end{document}
